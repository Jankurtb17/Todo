"use strict";(self["webpackChunktodo_app"]=self["webpackChunktodo_app"]||[]).push([[607],{6959:function(e,t,s){s.d(t,{Z:function(){return p}});s(1703);function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o=s(6265),n=s.n(o);const a=n().create({baseURL:"api/posts/",headers:{"Content-type":"application/json"}});var c=a;class l{constructor(){r(this,"_id",void 0),r(this,"title",void 0),r(this,"description",void 0),r(this,"author",void 0),r(this,"completed",void 0)}}class i extends l{getProjects(){return c.get("/")}getProjectApi(e){return c.get(`/${e}`)}createProjectApi(e){return c.post("/",e)}updateProjectApi(e,t){return c.put(`/${e}`,t)}deleteProjectApi(e){return c["delete"](`/${e}`)}}var u=new i;const d=()=>{const e=async()=>{const e=u.getProjects().then((e=>e.data)).catch((e=>{throw e}));return e},t=async(e,t,s,r)=>{const o={title:e,description:t,author:s,completed:r},n=u.createProjectApi(o).catch((e=>{throw e}));return n},s=async e=>{const t=u.getProjectApi(e).then((e=>{let t=e.data;return t})).catch((e=>{throw e}));return t},r=async e=>{const t=u.deleteProjectApi(e).then((e=>e.data)).catch((e=>{throw e}));return t},o=async(e,t,s,r,o)=>{const n={title:t,description:s,author:r,completed:o},a=u.updateProjectApi(e,n).then((e=>e)).catch((e=>{throw console.log(e.message),new Error(e)}));return a},n=async(e,t,s,r,o)=>{const n={title:t,description:s,author:r,completed:o},a=u.updateProjectApi(e,n).then((e=>e)).catch((e=>{throw e}));return a};return{getData:e,addProjects:t,deleteProject:r,getProject:s,updateProject:o,updateStatus:n}};var p=d},4239:function(e,t,s){s.d(t,{o:function(){return c}});var r=s(2317),o=s(5421);const n=(0,o.v0)(),a=n.currentUser,c=(0,r.Q_)("main",{state:()=>({email:null}),actions:{getUser(){return this.email=a.email}}})},4814:function(e,t,s){s.d(t,{Z:function(){return m}});var r=s(3396),o=s(7139),n=s(4870);const a=e=>((0,r.dD)("data-v-3e679424"),e=e(),(0,r.Cn)(),e),c={class:"alert grid justify-items-center"},l={class:"message"},i=a((()=>(0,r._)("span",{class:"material-icons pr-1"},"close",-1)));var u=(0,r.aZ)({__name:"AlertMessage",props:["type","message"],setup(e){const t=e,s=(0,n.Fl)((()=>"success"===t.type?"bg-green-800":"bg-red-300"));return(e,a)=>((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",{class:(0,o.C_)(["flex justify-between lg:w-10/12 px-2 py-5 text-white rounded",(0,n.SU)(s)])},[(0,r._)("div",l,(0,o.zw)(t.message),1),i],2)]))}}),d=s(89);const p=(0,d.Z)(u,[["__scopeId","data-v-3e679424"]]);var m=p},8607:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var r=s(3396),o=s(9242),n=s(4814),a=s(6959),c=s(4239),l=s(4870),i=s(5490);const u=e=>((0,r.dD)("data-v-4c1d9559"),e=e(),(0,r.Cn)(),e),d=u((()=>(0,r._)("h1",{class:"text-3xl text-gray-500 font-bold text-center mt-5 mb-5"},"Create Task ",-1))),p={class:"form-section"},m={class:"container sm:px-2"};var g=(0,r.aZ)({__name:"TaskForm",setup(e){const t=(0,c.o)(),{addProjects:s}=(0,a.Z)(),u=(0,i.tv)(),g=(0,l.iH)(!1),v=(0,l.iH)(),h=(0,l.iH)(),f=(0,l.iH)([]),w=(0,l.qj)({title:"",description:"",author:"",completed:!1}),y=async()=>{if(""!==w.title||""!==w.description)try{await s(w.title,w.description,t.getUser(),w.completed),g.value=!0,v.value="Successfully added",h.value="success",console.log(w),setTimeout((()=>{u.push("/"),g.value=!1}),3e3)}catch(e){g.value=!0,v.value=e.message,h.value="danger",setTimeout((()=>{g.value=!1}),3e3),console.log(e)}};(0,r.Fl)((()=>!(f.value.length<1)));return(0,r.bv)((()=>{console.log(t.getUser())})),(e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(o.uT,{name:"fade"},{default:(0,r.w5)((()=>[g.value?((0,r.wg)(),(0,r.j4)(n.Z,{key:0,type:h.value,message:v.value},null,8,["type","message"])):(0,r.kq)("",!0)])),_:1}),d,(0,r._)("div",p,[(0,r._)("div",m,[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((()=>{}),["prevent"])),class:"grid justify-items-center"},[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>w.title=e),class:"mb-5 sm:w-full md:w-full lg:w-10/12 border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm",placeholder:"Title"},null,512),[[o.nr,w.title]]),(0,r.wy)((0,r._)("textarea",{placeholder:"Description","onUpdate:modelValue":t[1]||(t[1]=e=>w.description=e),class:"mb-5 sm:w-full md:w-full lg:w-10/12 border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"},null,512),[[o.nr,w.description]]),(0,r._)("button",{class:"button lg:w-10/12 sm:w-full md:w-full rounded py-2",onClick:y},"Add Task")],32)])])],64))}}),v=s(89);const h=(0,v.Z)(g,[["__scopeId","data-v-4c1d9559"]]);var f=h}}]);
//# sourceMappingURL=607.7fd9870f.js.map