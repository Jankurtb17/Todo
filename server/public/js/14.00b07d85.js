"use strict";(self["webpackChunktodo_app"]=self["webpackChunktodo_app"]||[]).push([[14],{6959:function(e,t,s){s.d(t,{Z:function(){return p}});s(1703);function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var a=s(6265),o=s.n(a);const n=o().create({baseURL:"http://localhost:5000/api/posts/",headers:{"Content-type":"application/json"}});var c=n;class i{constructor(){r(this,"_id",void 0),r(this,"title",void 0),r(this,"description",void 0),r(this,"author",void 0),r(this,"completed",void 0)}}class l extends i{getProjects(){return c.get("/")}getProjectApi(e){return c.get(`/${e}`)}createProjectApi(e){return c.post("/",e)}updateProjectApi(e,t){return c.put(`/${e}`,t)}deleteProjectApi(e){return c["delete"](`/${e}`)}}var u=new l;const d=()=>{const e=async()=>{const e=u.getProjects().then((e=>e.data)).catch((e=>{throw e}));return e},t=async(e,t,s,r)=>{const a={title:e,description:t,author:s,completed:r},o=u.createProjectApi(a).catch((e=>{throw e}));return o},s=async e=>{const t=u.getProjectApi(e).then((e=>{let t=e.data;return t})).catch((e=>{throw e}));return t},r=async e=>{const t=u.deleteProjectApi(e).then((e=>e.data)).catch((e=>{throw e}));return t},a=async(e,t,s,r,a)=>{const o={title:t,description:s,author:r,completed:a},n=u.updateProjectApi(e,o).then((e=>e)).catch((e=>{throw console.log(e.message),new Error(e)}));return n},o=async(e,t,s,r,a)=>{const o={title:t,description:s,author:r,completed:a},n=u.updateProjectApi(e,o).then((e=>e)).catch((e=>{throw e}));return n};return{getData:e,addProjects:t,deleteProject:r,getProject:s,updateProject:a,updateStatus:o}};var p=d},9658:function(e,t,s){s.d(t,{Z:function(){return m}});var r=s(3396),a=s(7139),o=s(4870);const n=e=>((0,r.dD)("data-v-577ba25a"),e=e(),(0,r.Cn)(),e),c={class:"alert grid justify-items-center"},i={class:"message"},l=n((()=>(0,r._)("span",{class:"material-icons pr-1"},"close",-1)));var u=(0,r.aZ)({__name:"AlertMessage",props:["type","message"],setup(e){const t=e,s=(0,o.Fl)((()=>"success"===t.type?"bg-green-300":"bg-red-300"));return(e,n)=>((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",{class:(0,a.C_)(["flex justify-between lg:w-10/12 px-2 py-5 text-white rounded",(0,o.SU)(s)])},[(0,r._)("div",i,(0,a.zw)(t.message),1),l],2)]))}}),d=s(89);const p=(0,d.Z)(u,[["__scopeId","data-v-577ba25a"]]);var m=p},9014:function(e,t,s){s.r(t),s.d(t,{default:function(){return j}});var r=s(3396),a=s(9242),o=s(4870),n=s(7139),c=s(9658),i=s(6959),l=s(2483);const u=e=>((0,r.dD)("data-v-7190436d"),e=e(),(0,r.Cn)(),e),d=u((()=>(0,r._)("h1",{class:"text-3xl font-bold text-gray-500 text-center mt-5 mb-5"},"Edit Task ",-1))),p={class:"form-section"},m={class:"sm:px-2"},v=["onSubmit"],h={key:0,class:"mt-5"},f={key:1},g=u((()=>(0,r._)("button",{class:"button sm:w-full md:w-full lg:w-10/12 rounded py-2"},"Update Task",-1)));var w=(0,r.aZ)({__name:"EditForm",setup(e){const{getProject:t,updateProject:s}=(0,i.Z)(),u=(0,l.tv)(),w=(0,l.yj)(),y=(0,o.iH)(!1),b=(0,o.iH)(),j=(0,o.iH)(),_=(0,o.iH)(!1),P=(0,o.iH)(""),k=(0,o.iH)(!1),x=(0,o.iH)("");let A=(0,o.qj)({title:"",description:""});const D=async()=>{if(!0!==_.value&&1!=k.value)try{await s(w.params.id,A.title,A.description),y.value=!0,b.value="Successfully updated!",j.value="success",setTimeout((()=>{u.push("/")}),3e3)}catch(e){e&&console.log(e)}},S=()=>{""===A.title?(_.value=!0,P.value="Title field is required"):""===A.description?(k.value=!0,x.value="Description field is required"):(_.value=!1,k.value=!1)},U=async()=>{const e=await t(w.params.id);return e.map((e=>{A.title=e.title,A.description=e.description})),console.log(e),e};return(0,r.bv)((()=>{U()})),(e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(a.uT,{name:"fade"},{default:(0,r.w5)((()=>[y.value?((0,r.wg)(),(0,r.j4)(c.Z,{key:0,type:j.value,message:b.value},null,8,["type","message"])):(0,r.kq)("",!0)])),_:1}),d,(0,r._)("div",p,[(0,r._)("div",m,[(0,r._)("form",{onSubmit:(0,a.iM)(D,["prevent"]),class:"grid justify-items-center"},[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.SU)(A).title=e),class:"mb-5 sm:w-full md:w-full lg:w-10/12 border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm",onKeyup:S,placeholder:"Title"},null,544),[[a.nr,(0,o.SU)(A).title]]),_.value?((0,r.wg)(),(0,r.iD)("span",h,(0,n.zw)(P.value),1)):(0,r.kq)("",!0),(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.SU)(A).description=e),class:"mb-5 sm:w-full md:w-full lg:w-10/12 border border-slate-300 rounded-md py-2 pl-2 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm",onKeyup:S,placeholder:"Description"},null,544),[[a.nr,(0,o.SU)(A).description]]),k.value?((0,r.wg)(),(0,r.iD)("span",f,(0,n.zw)(x.value),1)):(0,r.kq)("",!0),g],40,v)])])],64))}}),y=s(89);const b=(0,y.Z)(w,[["__scopeId","data-v-7190436d"]]);var j=b}}]);
//# sourceMappingURL=14.00b07d85.js.map