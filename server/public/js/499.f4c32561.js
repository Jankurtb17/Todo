"use strict";(self["webpackChunktodo_app"]=self["webpackChunktodo_app"]||[]).push([[499],{6959:function(e,t,o){o.d(t,{Z:function(){return p}});o(1703);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s=o(6265),r=o.n(s);const i=r().create({baseURL:"api/posts/",headers:{"Content-type":"application/json"}});var c=i;class n{constructor(){a(this,"_id",void 0),a(this,"title",void 0),a(this,"description",void 0),a(this,"author",void 0),a(this,"completed",void 0)}}class l extends n{getProjects(){return c.get("/")}getProjectApi(e){return c.get(`/${e}`)}createProjectApi(e){return c.post("/",e)}updateProjectApi(e,t){return c.put(`/${e}`,t)}deleteProjectApi(e){return c["delete"](`/${e}`)}}var d=new l;const u=()=>{const e=async()=>{const e=d.getProjects().then((e=>e.data)).catch((e=>{throw e}));return e},t=async(e,t,o,a)=>{const s={title:e,description:t,author:o,completed:a},r=d.createProjectApi(s).catch((e=>{throw e}));return r},o=async e=>{const t=d.getProjectApi(e).then((e=>{let t=e.data;return t})).catch((e=>{throw e}));return t},a=async e=>{const t=d.deleteProjectApi(e).then((e=>e.data)).catch((e=>{throw e}));return t},s=async(e,t,o,a,s)=>{const r={title:t,description:o,author:a,completed:s},i=d.updateProjectApi(e,r).then((e=>e)).catch((e=>{throw console.log(e.message),new Error(e)}));return i},r=async(e,t,o,a,s)=>{const r={title:t,description:o,author:a,completed:s},i=d.updateProjectApi(e,r).then((e=>e)).catch((e=>{throw e}));return i};return{getData:e,addProjects:t,deleteProject:a,getProject:o,updateProject:s,updateStatus:r}};var p=u},4239:function(e,t,o){o.d(t,{o:function(){return c}});var a=o(2317),s=o(5421);const r=(0,s.v0)(),i=r.currentUser,c=(0,a.Q_)("main",{state:()=>({email:null}),actions:{getUser(){return this.email=i.email}}})},7035:function(e,t,o){o.d(t,{Z:function(){return u}});var a=o(3396);const s={class:"border shadow py-2 px-10 ml-5 mr-5 rounded lg:w-10/12 sm:w-full md:w-full border"},r=(0,a.uE)('<div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-3 py-1"><div class="h-2 bg-slate-200 rounded"></div><div class="space-y-3"><div class="grid grid-cols-3 gap-4"><div class="h-2 bg-slate-200 rounded col-span-2"></div><div class="h-2 bg-slate-200 rounded col-span-1"></div></div><div class="h-2 bg-slate-200 rounded"></div></div></div></div>',1),i=[r];function c(e,t){return(0,a.wg)(),(0,a.iD)("div",s,i)}var n=o(89);const l={},d=(0,n.Z)(l,[["render",c]]);var u=d},2934:function(e,t,o){o.d(t,{Z:function(){return y}});var a=o(3396),s=o(7139),r=o(9242),i=o(4870);const c={class:"project shadow py-5 px-10 ml-5 mr-5 mt-3 rounded border w-10/12"},n={class:"actions flex justify-between"},l={key:0},d={class:"material-icons cursor-pointer edit px-1 text-yellow-500 hover:text-yellow-600"},u=(0,a.Uk)("edit"),p={key:1},v=(0,a._)("span",{class:"material-icons done px-1 text-lime-600 hover:text-lime-700"},"check_circle",-1),m=[v],g={key:0,class:"details"};var w=(0,a.aZ)({__name:"SingleProject",props:["project","id"],emits:["openDialog","deleteProj","updateDialog","updateStatus","task"],setup(e,{emit:t}){const o=e,v=(0,i.iH)(!1),w=(0,i.iH)(!1),h=e=>{w.value=!0;const a={_id:e,title:o.project.title,description:o.project.description,completed:w.value};t("task",a)},y=e=>{t("openDialog"),t("deleteProj",e)};return(e,t)=>{const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",n,[(0,a._)("h3",{onClick:t[0]||(t[0]=e=>v.value=!v.value),class:"cursor-pointer"},(0,s.zw)(o.project.title),1),o.project.completed?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("span",{class:"material-icons cursor-pointer done px-1 text-lime-600 hover:text-lime-700",onClick:t[1]||(t[1]=e=>h(o.project._id))},"done"),(0,a._)("span",d,[(0,a.Wm)(i,{to:{name:"editProject",params:{id:o.project._id}}},{default:(0,a.w5)((()=>[u])),_:1},8,["to"])]),(0,a._)("span",{class:"material-icons cursor-pointer delete px-1 text-red-600 hover:text-red-800",onClick:t[2]||(t[2]=e=>y(o.project._id))},"delete ")])),o.project.completed?((0,a.wg)(),(0,a.iD)("div",p,m)):(0,a.kq)("",!0)]),(0,a.Wm)(r.uT,{name:"fade"},{default:(0,a.w5)((()=>[v.value?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("p",null,(0,s.zw)(o.project.description),1)])):(0,a.kq)("",!0)])),_:1})])}}});const h=w;var y=h},6499:function(e,t,o){o.r(t),o.d(t,{default:function(){return S}});var a=o(3396),s=o(9242),r=o(4870),i=o(6959),c=o(2934),n=o(7035),l=o(7139);const d=["onClick"],u={class:"modal sm:w-80 w-full mx-auto mt-40"},p={class:"flex px-4 py-4"},v={class:"material-icons text-red-500 pr-3 py-1"},m={class:"font-medium tracking-wide text-xl"},g={class:"flex justify-end bg-gray-100 space-x-2 mt-5 py-2 px-1 rounded-lg"};var w=(0,a.aZ)({__name:"ModalComponent",props:["type","title","message"],emits:["closeModal"],setup(e,{emit:t}){const o=e,r=()=>{t("closeModal")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"backdrop",onClick:(0,s.iM)(r,["self"])},[(0,a._)("div",u,[(0,a._)("div",p,[(0,a._)("span",v,(0,l.zw)(o.type),1),(0,a._)("div",null,[(0,a._)("h1",m,(0,l.zw)(o.title),1),(0,a._)("p",null,(0,l.zw)(o.message),1)])]),(0,a._)("div",g,[(0,a.WI)(e.$slots,"default")])])],8,d))}}),h=o(89);const y=(0,h.Z)(w,[["__scopeId","data-v-12a6b4c9"]]);var _=y,j=o(5490),f=o(4239);const k=e=>((0,a.dD)("data-v-03f5ce44"),e=e(),(0,a.Cn)(),e),x={class:"home"},b={class:"lower-item"},D={key:0,class:"mt-5 grid justify-items-center"},P={key:1},C={class:"projects-ongoing mt-5"},Z={key:0},A={class:"ongoing mx-20 sm:mx-2 sm:mb-4"},H={key:1},W=k((()=>(0,a._)("p",{class:"text-gray-400 text-center"},"Wohooo, nothing left on task",-1))),U=[W],q={key:0};var z=(0,a.aZ)({__name:"HomeView",setup(e){const t=(0,f.o)(),{getData:o,deleteProject:l,updateStatus:d}=(0,i.Z)(),u=(0,j.tv)(),p=(0,r.iH)([]),v=(0,r.iH)(!1),m=(0,r.iH)(!1),g=((0,r.iH)(!1),(0,r.iH)());let w=(0,r.iH)(!1);const h=()=>m.value=!m.value,y=async e=>{await d(e._id,e.title,e.description,e.author,e.completed),w.value=!0,u.push("/task-completed")},k=()=>{v.value=!0,setTimeout((async()=>{p.value=await o()}),3e3),v.value=!1,m.value=!1},W=e=>{m.value=!0,g.value=e,console.log(m.value)},z=async()=>{try{await l(g.value),k()}catch(e){console.log(e.message)}};(0,a.Fl)((()=>p.value.length));return(0,a.bv)((()=>{k()})),(e,o)=>((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",b,[v.value?((0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(n.Z)])):((0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("div",C,[p.value.length?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("div",A,[(0,a.Wm)(s.W3,{name:"fade",tag:"p"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.value,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"list-items grid justify-items-center",key:e._id},[e.completed||e.author!==(0,r.SU)(t).getUser()?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(c.Z,{key:0,project:e,onOpenDialog:h,onDeleteProj:W,onTask:y},null,8,["project"]))])))),128))])),_:1})])])):((0,a.wg)(),(0,a.iD)("div",H,U))])]))]),(0,a.Wm)(s.uT,{name:"fade"},{default:(0,a.w5)((()=>[m.value?((0,a.wg)(),(0,a.iD)("div",q,[((0,a.wg)(),(0,a.j4)(a.lR,{to:".modals"},[(0,a.Wm)(_,{teleport:"body",title:"Delete Project",message:"Are you sure you want to delete this project?",type:"warning",onCloseModal:h},{default:(0,a.w5)((()=>[(0,a._)("button",{class:"rounded px-4 bg-white border border-slate-300 py-1",onClick:h},"Cancel"),(0,a._)("button",{class:"rounded px-4 bg-white border bg-red-700 text-white focus:bg-red-800 border-slate-300 py-1",onClick:o[0]||(o[0]=e=>z(W))},"Delete")])),_:1})]))])):(0,a.kq)("",!0)])),_:1})]))}});const M=(0,h.Z)(z,[["__scopeId","data-v-03f5ce44"]]);var S=M}}]);
//# sourceMappingURL=499.f4c32561.js.map